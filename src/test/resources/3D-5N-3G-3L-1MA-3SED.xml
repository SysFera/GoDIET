<?xml version="1.0" encoding="UTF-8"?>
<dietDescription xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="GoDietNG.xsd">

	<goDietConfiguration debug="1" saveStdOut="true"
		saveStdErr="true" log="true">
		<localscratch dir="/usr/local/tmp/scratch_godiet" />
	</goDietConfiguration>

	<infrastructure>
		<domain label="Domain1">

			<storage label="Disk1">
				<scratch dir="/tmp/scratch_runtime" />
				<scp server="IPNFS" login="phi" />
			</storage>

			<node id="Node1" disk="Disk1">
				<ssh server="IP1" login="phi" />
				<env>
					<var name="PATH"
						value="/usr/local/Diet/build/bin:/usr/local/Diet/build/bin/examples/dmat_manips/:$PATH" />
					<var name="LD_LIBRARY_PATH" value="/usr/local/Diet/build/lib" />
				</env>
			</node>
			<gateway ref="Node1" id="G1" />
		</domain>
		<domain label="Domain2">
			<storage label="Disk2">
				<scratch dir="/tmp/scratch_runtime" />
				<scp server="IPNFS2" login="phi" />
			</storage>

			<node id="Node2" disk="Disk1">
				<ssh server="IP2" login="phi" />
				<env>
					<var name="PATH"
						value="/usr/local/Soft/Diet/bin:/usr/local/Soft/Diet/bin/examples/dmat_manips/:$PATH" />
					<var name="LD_LIBRARY_PATH" value="/usr/local/Soft/diet/build/lib" />
				</env>
			</node>
			<node id="Node3" disk="Disk1">
				<ssh server="IP3" login="phi" />
				<env>
					<var name="PATH"
						value="/usr/local/Soft/Diet/bin:/usr/local/Soft/Diet/bin/examples/dmat_manips/:$PATH" />
					<var name="LD_LIBRARY_PATH" value="/usr/local/Soft/diet/build/lib" />
				</env>
			</node>
			<gateway ref="Node3" id="G2" />
		</domain>
		<domain label="Domain3">
			<storage label="Disk3">
				<scratch dir="/tmp/scratch_runtime" />
				<scp server="IPNFS3" login="phi" />
			</storage>
			<node id="Node4" disk="Disk1">
				<ssh server="IP4" login="phi" />
				<env>
					<var name="PATH"
						value="/usr/local/Soft/Diet/bin:/usr/local/Soft/Diet/bin/examples/dmat_manips/:$PATH" />
					<var name="LD_LIBRARY_PATH" value="/usr/local/Soft/diet/build/lib" />
				</env>
			</node>
			<node id="Node5" disk="Disk1">
				<ssh server="IP5" login="phi" />
				<env>
					<var name="PATH"
						value="/usr/local/Soft/Diet/bin:/usr/local/Soft/Diet/bin/examples/dmat_manips/:$PATH" />
					<var name="LD_LIBRARY_PATH" value="/usr/local/Soft/diet/build/lib" />
				</env>
			</node>
			<gateway ref="Node4" id="G3" />
		</domain>
		<link from="G1" to="G2" />
		<link from="G2" to="G3" />
		<link from="G3" to="G1" />
	</infrastructure>

	<dietServices>
		<omniNames contact="192.168.1.17">
			<config server="Node1" remoteBinary="omniNames" />
		</omniNames>
		<omniNames contact="192.168.2.17">
			<config server="Node2" remoteBinary="omniNames" />
		</omniNames>
		<omniNames contact="192.168.3.17">
			<config server="Node4" remoteBinary="omniNames" />
		</omniNames>
	</dietServices>

	<dietInfrastructure>
		<masterAgent  id="MA1">
			<config server="Node1" remoteBinary="dietAgent" />

			<sed id="sed1">
				<config server="Node2" remoteBinary="dmat_manips_server" />
				<parameters string="T" />
			</sed>
			<sed id="sed2">
				<config server="Node3" remoteBinary="dmat_manips_server" />
				<parameters string="T" />
			</sed>
			<sed id="sed3">
				<config server="Node4" remoteBinary="dmat_manips_server" />
				<parameters string="T" />
			</sed>
		</masterAgent>
	</dietInfrastructure>

</dietDescription>
